'''
@author king_xiong
@date 2021-12-19 13:54
'''
import requests
import urllib.request
from lxml import etree
headers={
    'cookie': 'releaseNotesBuild=2021.13; IAP_ROUTING_TOKEN=YwIJ8R8ZIO0bHWHBOxxkevSLO6pZWO1M4+yLkvB5m9h+WTFUvMY+7OAesutVOn21ucJEgm6d6L/5WsQHnbGvmhiXdHzw+9mE71n7ioCXnMZzBvIg3aEoX6ePKFzFXc7qDwqMZdTK+RVwo5sYXSs2xPnKi2reYoRptAk/R5/W8LOJ7egFtEU1NGZQvQ/FjZCjzD1iy4XoMrm25A9fdpTyz5aLUEXqUWaWtf/3tOW9X82iEP8spxfy2FLbCvlPyG/R83Hh0M5481J/095znlCX/3FyT+2P79pe0UyEvBHx17hNWNW6Ub4jyDq0MflC3Pg4tr0ipcQyx9SYWdpNKiVzJk1XITFM4LAHIBKVL1dCjRoOSTX79uimGrs1pm7UK0OI70pETdwf10iyAL/Ocb9moDhqHrTZOQ+I/uDGDyf4T7P1fMxf1AeTGeHKY4a6DWgqRZzREImFq2sWQtrbXgMbveJYve7qA/zPv/ttRTiIfcM=; fs_uid=rs.fullstory.com#BWE1Q#6221352855560192:6554892136505344#51c275f0#/1671429204; serverToUse=sf-production-full-0-76-2-4-stack-03; incap_ses_225_1815682=y+1LLdoF8VW1BHVndlwfA7xQxGEAAAAAfMFkcsEnySAMGBzBhriZPw==; incap_ses_552_1815682=qcu1LRgXB2a+cYYIkRmpB75QxGEAAAAAZtMfvN/5GCBNH/yGQmSsuQ==; ipasf=eyJraWQiOiJJUEF1dGhvcml6YXRpb25SdWxlSldUS2V5IiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJJUEF1dGhvcml6YXRpb25SdWxlIiwiYXVkIjoiSVBBdXRob3JpemF0aW9uUnVsZSIsImV4cCI6MTY0MDM0MjA4NCwianRpIjoiekhwQzM1MWpVZG8yd1VZb3FoN0Y0QSIsImlhdCI6MTY0MDI1NTY4NCwibmJmIjoxNjQwMjU1NTY0LCJzdWIiOiJTQ0lGSU5ERVIsV0IwMi0wMDAwNTAxNTI3IiwiaXNJcFJlc3RyaWN0ZWQiOmZhbHNlLCJhdXRob3JpemVkSVAiOiIxMTEuMTYwLjI0MC4xMDgiLCJ0cmFja2luZ0lkIjoidGlkOkJIRnFoVVNEa3dOWkQxTkRleU1CN0J6QnFFRS4ueEZDdyJ9.C0v_PTq4X118mq19UAieo2AH-taUFkCDR8YBX39lVNTGUPE8gf2jp2U7xmDMV0XKDofc6UefjMhu9wunehmf0uD6qc6VotYMb2dFKvYZdjcgi5DqL9xkcE_uk92YjV_-JH6HjUjw-NyKuIgPVZnQN_ULcVFDvKb2rWsO-ixfQiWcdMrn2TdXvLaDMXoqcc2UJU9doS7PSDspeRf-GD9y9lHWM8eU0V4XmG2d_WIP5mv9mNmg29YsoCkFoVREBwB5H9dBcIkLX4fSiQ9I_ggDQd6BTwNIhSTUYKlzHqQle6cl65i0NWUNuT5S7kEZZVzTkQ61Hql6eMjwrXpnIpjWZg; PA.SFN=eyJraWQiOiJKZ1owM3Z5SGI2T1U2TmZrQWhDZzlodWtvQm8iLCJhbGciOiJFUzI1NiIsInBpLnNyaSI6IkJIRnFoVVNEa3dOWkQxTkRleU1CN0J6QnFFRS4ueEZDdyJ9.eyJkdGlkIjoiNDhkMGJjOTEtZjE0OC00MWQ3LWI2ZTAtYzFiNWFjZWJhNmRiIiwiYXV0aCI6InVwIiwiYWNjdF90eXBlIjoiQWNhZGVtaWMiLCJpc19iaWxsYWJsZSI6IjEiLCJ1c2VyaWQiOiI1NTdjMjM3ZDYxMmYwIiwidG14X3NtYXJ0X2lkIjoiMTZhOWMyODY5ZWFjNDRmOGE3OWVlMmYxNzk1Mjg3Y2IiLCJpZHAiOiJzc28uY2FzLm9yZyIsImF1dGhvcml6ZWRfcHJvZHVjdHMiOlsiU0NJRklOREVSLFdCMDQiLCJTQ0lGSU5ERVIsV0IwMSJdLCJuYW1lIjoiSmlhbGlhbmcgWGlvbmciLCJ0bXhfZXhhY3RfaWQiOiIxNmE5YzI4NjllYWM0NGY4YTc5ZWUyZjE3OTUyODdjYiIsImVtYWlsIjoiMjE4MTE5MThAbWFpbC50dXN0LmVkdS5jbiIsImxvY2F0aW9uX251bWJlciI6IjAwMDA1MDE1MjciLCJ0bXhfc2Vzc2lvbl9pZCI6Ijg3MzNiZGYxLWY2ZmMtNDEwMi04ZGUyLTRiYmNiYjY1MmE3YSIsInRvd2VyIjoiU0lMVkVSIiwidXNlcm5hbWUiOiJjb2Rla2luZyIsInN1YiI6IjU1N2MyMzdkNjEyZjAiLCJpYXQiOjE2NDAyNTU2NzAsImlzcyI6IlBpbmdBY2Nlc3MiLCJhdWQiOiJTRk4iLCJqdGkiOiIyOWM1ODFhYi01NGExLTRkYTgtYTIwOC0yMmRlN2ZiMzAxYzkiLCJleHAiOjE2NDAyNTk3MDUsInBpLnBhLnJhdCI6MTY0MDI1NjEwNSwiYWNjZXNzX3Rva2VuIjoiZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNklqRWlMQ0p3YVM1aGRHMGlPaUpoSW4wLmV5SnpZMjl3WlNJNld5SnZjR1Z1YVdRaUxDSmhaR1J5WlhOeklpd2laVzFoYVd3aUxDSndhRzl1WlNJc0luQnliMlpwYkdVaVhTd2lZMnhwWlc1MFgybGtJam9pYzJOcFptbHVaR1Z5TFc0aUxDSjBiWGhmYzIxaGNuUmZhV1FpT2lJeE5tRTVZekk0TmpsbFlXTTBOR1k0WVRjNVpXVXlaakUzT1RVeU9EZGpZaUlzSW1SMGFXUWlPaUkwT0dRd1ltTTVNUzFtTVRRNExUUXhaRGN0WWpabE1DMWpNV0kxWVdObFltRTJaR0lpTENKcFpIQWlPaUp6YzI4dVkyRnpMbTl5WnlJc0ltRjFkR2dpT2lKMWNDSXNJblJ0ZUY5bGVHRmpkRjlwWkNJNklqRTJZVGxqTWpnMk9XVmhZelEwWmpoaE56bGxaVEptTVRjNU5USTROMk5pSWl3aWNHa3VjM0pwSWpvaVFraEdjV2hWVTBScmQwNWFSREZPUkdWNVRVSTNRbnBDY1VWRkxpNTRSa04zSWl3aWRYTmxjbWxrSWpvaU5UVTNZekl6TjJRMk1USm1NQ0lzSW5SdGVGOXpaWE56YVc5dVgybGtJam9pT0Rjek0ySmtaakV0WmpabVl5MDBNVEF5TFRoa1pUSXROR0ppWTJKaU5qVXlZVGRoSWl3aWRYTmxjbTVoYldVaU9pSmpiMlJsYTJsdVp5SXNJbVY0Y0NJNk1UWTBNRE0wTWpBM01IMC5IcElrMU5feE1ZNGZiYk1CY2t0SmtYbjFwcXpfWEpCRXk1VHhzX0h6XzZVdWdpMm9EN1dENWd1V3dIclM4MmFYRF9Uc1BEOFdNTFMxX2cyMWpmMnVwTjlHNXJpNmtkY25KVnhzOGNOWHRxN0RSWTRuYS1rOEh2TE5RYVYzb296Zl9sNTM0REJpUWFUbGNyZzR5OUFnUEprU3dKb2ZXbnNBeGxCbERBVDdPT3BvRU8zQXBITFU4UExFdnhjcnNMa0U5OUFTSmQzMWNDTWI0NF9HNjk2Y1lLTFZEaFR4dDcxRkZRLUZ3c1NyYVFtTFF5dmVPMEs3blhwdzNaREFRM2xzeU5nUDM3WE9Kd25Ic25QX19Jc0JHa05FZF9iTVd3MXNzLUVHODlzcGg3V1FUWFY2bTVBVDJNREg1VXZnc2ZrWHZ3U2JkZ3Z6UHQwajVITUwxc19zNFEiLCJwaS5wYS5hdHRyX2V4cCI6MTY0MDI1NjE2NX0.YuPh-VaBoTMcM84Gm9BLvmfze1S46XrV4lKZURHQwdFsNr76BfN43F_sTcdErg6rskHejZbKpOsB2jZHGrR70Q',
}
# 下面这个是下载的mol的链接
# url = 'https://scifinder-n.cas.org/navigate/?answerSetKey=null&appId=516389e7-c2cd-40a1-bfb1-d6bdd897fe3b&metricsResultType=reference&page=1&projectionSourceNavKey=61beca09f2ea2c432f691b19&projectionSourceUriList=substance%2Fpt%2F100005&resultType=reference&resultView=list&sortBy=relevance&sortOrder=descending&textQuery=100-00-5&uiContext=676&uiSubContext=551'
url='https://scifinder-n.cas.org/searchDetail/substance/61c45e5fb561570262071a8b/substanceDetails'
response=requests.get(url=url,headers=headers)
# print(response.content)
# 拿到页面数据测试
tree=etree.HTML(response.content)
content_page=tree.xpath('//*[@id="experimental-properties"]/div/div[2]/div/sf-experimental-properties/sf-substance-table-tabs/sf-tabset/div/sf-tab[3]/div/sf-experimental-properties-table/table/tbody/tr[1]/td[2]/text()')
print(content_page)
# urllib.request.urlretrieve(url=url,filename='./test/casfinder_test')
# print(response)